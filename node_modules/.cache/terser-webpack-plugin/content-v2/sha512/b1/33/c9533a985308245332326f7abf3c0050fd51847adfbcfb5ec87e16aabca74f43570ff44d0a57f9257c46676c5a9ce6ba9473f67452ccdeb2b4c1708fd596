{"code":"(function(e,t){\"object\"===typeof exports&&\"object\"===typeof module?module.exports=t():\"function\"===typeof define&&define.amd?define([],t):\"object\"===typeof exports?exports[\"z-progress-loading\"]=t():e[\"z-progress-loading\"]=t()})(\"undefined\"!==typeof self?self:this,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e[\"default\"]}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=\"fb15\")}({\"24fb\":function(e,t,i){\"use strict\";function n(e,t){var i=e[1]||\"\",n=e[3];if(!n)return i;if(t&&\"function\"===typeof btoa){var s=r(n),o=n.sources.map((function(e){return\"/*# sourceURL=\".concat(n.sourceRoot||\"\").concat(e,\" */\")}));return[i].concat(o).concat([s]).join(\"\\n\")}return[i].join(\"\\n\")}function r(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),i=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(t);return\"/*# \".concat(i,\" */\")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?\"@media \".concat(t[2],\" {\").concat(i,\"}\"):i})).join(\"\")},t.i=function(e,i,n){\"string\"===typeof e&&(e=[[null,e,\"\"]]);var r={};if(n)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<e.length;a++){var h=[].concat(e[a]);n&&r[h[0]]||(i&&(h[2]?h[2]=\"\".concat(i,\" and \").concat(h[2]):h[2]=i),t.push(h))}},t}},\"499e\":function(e,t,i){\"use strict\";function n(e,t){for(var i=[],n={},r=0;r<t.length;r++){var s=t[r],o=s[0],a=s[1],h=s[2],l=s[3],c={id:e+\":\"+r,css:a,media:h,sourceMap:l};n[o]?n[o].parts.push(c):i.push(n[o]={id:o,parts:[c]})}return i}i.r(t),i.d(t,\"default\",(function(){return p}));var r=\"undefined\"!==typeof document;if(\"undefined\"!==typeof DEBUG&&DEBUG&&!r)throw new Error(\"vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\");var s={},o=r&&(document.head||document.getElementsByTagName(\"head\")[0]),a=null,h=0,l=!1,c=function(){},d=null,u=\"data-vue-ssr-id\",f=\"undefined\"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function p(e,t,i,r){l=i,d=r||{};var o=n(e,t);return g(o),function(t){for(var i=[],r=0;r<o.length;r++){var a=o[r],h=s[a.id];h.refs--,i.push(h)}t?(o=n(e,t),g(o)):o=[];for(r=0;r<i.length;r++){h=i[r];if(0===h.refs){for(var l=0;l<h.parts.length;l++)h.parts[l]();delete s[h.id]}}}}function g(e){for(var t=0;t<e.length;t++){var i=e[t],n=s[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(v(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var o=[];for(r=0;r<i.parts.length;r++)o.push(v(i.parts[r]));s[i.id]={id:i.id,refs:1,parts:o}}}}function m(){var e=document.createElement(\"style\");return e.type=\"text/css\",o.appendChild(e),e}function v(e){var t,i,n=document.querySelector(\"style[\"+u+'~=\"'+e.id+'\"]');if(n){if(l)return c;n.parentNode.removeChild(n)}if(f){var r=h++;n=a||(a=m()),t=y.bind(null,n,r,!1),i=y.bind(null,n,r,!0)}else n=m(),t=x.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var b=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join(\"\\n\")}}();function y(e,t,i,n){var r=i?\"\":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function x(e,t){var i=t.css,n=t.media,r=t.sourceMap;if(n&&e.setAttribute(\"media\",n),d.ssrId&&e.setAttribute(u,t.id),r&&(i+=\"\\n/*# sourceURL=\"+r.sources[0]+\" */\",i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\"),e.styleSheet)e.styleSheet.cssText=i;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}},aa29:function(e,t,i){var n=i(\"e591\");\"string\"===typeof n&&(n=[[e.i,n,\"\"]]),n.locals&&(e.exports=n.locals);var r=i(\"499e\").default;r(\"5cc0825a\",n,!0,{sourceMap:!1,shadowMode:!1})},e00d:function(e,t,i){\"use strict\";var n=i(\"aa29\"),r=i.n(n);r.a},e591:function(e,t,i){var n=i(\"24fb\");t=n(!1),t.push([e.i,\"#z-progress-loading{width:100%;height:100%;padding:0 8px;-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#z-progress-loading-canvas{-webkit-box-flex:1;-ms-flex:1;flex:1}\",\"\"]),e.exports=t},f6fd:function(e,t){(function(e){var t=\"currentScript\",i=e.getElementsByTagName(\"script\");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(n){var e,t=(/.*at [^\\(]*\\((.*):.+:.+\\)$/gi.exec(n.stack)||[!1])[1];for(e in i)if(i[e].src==t||\"interactive\"==i[e].readyState)return i[e];return null}}})})(document)},fb15:function(e,t,i){\"use strict\";var n;(i.r(t),\"undefined\"!==typeof window)&&(i(\"f6fd\"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))&&(i.p=n[1]));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{attrs:{id:\"z-progress-loading\"}},[i(\"canvas\",{attrs:{id:\"z-progress-loading-canvas\",width:e.width,height:e.height}},[i(\"i\",[e._v(\"Not supported.\")])])])},s=[],o={name:\"z-progress-loading\",props:[\"progress\",\"start\",\"config\"],watch:{start(e){e?this.startLoading():this.stopLoading()},config:{deep:!0,handler(){this.init()}}},data(){return{width:0,height:0,elemWidth:4,elemMinWidth:2,elemMaxWidth:8,elemMinHeight:4,elemMaxHeight:24,elemDeltaHeight:3,spacing:5,bgColor:\"blue\",foreColor:\"cyan\",step:1,rects:[],rectCount:0,raf:null}},mounted(){this.init(),setTimeout(()=>{this.draw()},0)},methods:{init(){const e=document.getElementById(\"z-progress-loading\"),{width:t,height:i}=e.getBoundingClientRect();this.width=t-16,this.spacing=Math.floor(.035*this.width),this.height=i,this.elemWidth=Math.floor(.02*this.width),this.elemWidth<this.elemMinWidth&&(this.elemWidth=this.elemMinWidth),this.elemWidth>this.elemMaxWidth&&(this.elemWidth=this.elemMaxWidth),this.elemMinHeight=this.elemWidth,this.elemMaxHeight=Math.floor(.75*this.height),this.elemDeltaHeight=Math.floor((this.elemMaxHeight-this.elemMinHeight)/6);const n=this.config||{};this.elemWidth=Number(n.elemWidth)||this.elemWidth,this.elemMinHeight=Number(n.elemMinHeight)||this.elemMinHeight,this.elemMaxHeight=Number(n.elemMaxHeight)||this.elemMaxHeight,this.elemDeltaHeight=Number(n.elemDeltaHeight)||this.elemDeltaHeight;const r=Number(n.spacing);this.spacing=r||0===r?r:this.spacing,this.bgColor=n.bgColor||this.bgColor,this.foreColor=n.foreColor||this.foreColor,this.step=Number(n.step)||this.step,this.rects=[],this.rectCount=Math.floor((this.width+this.spacing)/(this.elemWidth+this.spacing));let s=this.elemMinHeight,o=-this.elemDeltaHeight;for(let a=0;a<this.rectCount;a+=1){const e=a*(this.elemWidth+this.spacing),t=this.height/2-s/2,i=s;s+o<this.elemMaxHeight&&s+o>this.elemMinHeight||(o=-o),s+=o;const n=a/this.rectCount<this.progress/100?this.foreColor:this.bgColor;this.rects.push({x:e,y:t,width:this.elemWidth,height:i,fillStyle:n,dir:o})}},updateRects(){this.rects=this.rects.map((e,t)=>{let{x:i,y:n,width:r,height:s,fillStyle:o,dir:a}=e,h=a>0?this.step:-this.step;return s+h<this.elemMaxHeight&&s+h>this.elemMinHeight||(h=-h),s+=h,n=this.height/2-s/2,o=t/this.rectCount<this.progress/100?this.foreColor:this.bgColor,{x:i,y:n,width:r,height:s,fillStyle:o,dir:h}})},draw(){const e=document.getElementById(\"z-progress-loading-canvas\"),t=e.getContext(\"2d\");t.clearRect(0,0,this.width,this.height),this.rects.forEach(e=>{const{x:i,y:n,width:r,height:s,fillStyle:o}=e;t.fillStyle=o,t.fillRect(i,n,r,s)})},startLoading(){this.updateRects(),this.draw(),this.raf=requestAnimationFrame(this.startLoading.bind(this))},stopLoading(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}}},a=o;i(\"e00d\");function h(e,t,i,n,r,s,o,a){var h,l=\"function\"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId=\"data-v-\"+s),o?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var c=l.render;l.render=function(e,t){return h.call(t),c(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,h):[h]}return{exports:e,options:l}}var l=h(a,r,s,!1,null,null,null),c=l.exports;t[\"default\"]=c}})[\"default\"]}));","extractedComments":[]}