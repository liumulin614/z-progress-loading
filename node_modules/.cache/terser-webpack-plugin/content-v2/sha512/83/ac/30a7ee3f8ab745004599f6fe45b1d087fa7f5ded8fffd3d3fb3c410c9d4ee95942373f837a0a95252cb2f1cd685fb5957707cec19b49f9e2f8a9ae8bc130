{"code":"(function(t){function e(e){for(var r,n,a=e[0],l=e[1],h=e[2],g=0,u=[];g<a.length;g++)n=a[g],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&u.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(u.length)u.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],r=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(r=!1)}r&&(o.splice(e--,1),t=n(n.s=i[0]))}return t}var r={},s={index:0},o=[];function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\";var a=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var c=l;o.push([0,\"chunk-vendors\"]),i()})({0:function(t,e,i){t.exports=i(\"c31f\")},\"01cf\":function(t,e,i){},a5b4:function(t,e,i){},c31f:function(t,e,i){\"use strict\";i.r(e);var r=i(\"2b0e\"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[i(\"div\",{staticClass:\"container\"},[i(\"div\",{staticClass:\"play\"},[i(\"div\",{staticClass:\"inner-circle\"},[i(\"div\",{staticClass:\"icon\",class:t.start?\"\":\"stop\",on:{click:t.handleClick}})])]),i(\"div\",{staticClass:\"progress\"},[i(\"ZProgreeeLoading\",{attrs:{progress:t.progress,start:t.start,config:t.config}})],1),t.start?i(\"span\",{staticClass:\"text\"},[t._v(t._s(Math.round(t.currentTime/1e3))+\"”\")]):t._e(),t.start?t._e():i(\"span\",{staticClass:\"text\"},[t._v(t._s(t.duration/1e3)+\"”\")])]),i(\"hr\"),i(\"button\",{on:{click:t.handleClick}},[t._v(t._s(t.start?\"stop\":\"start\"))]),t._v(\" 进度：\"+t._s(t.progress.toFixed(0))+\"% \"),i(\"br\"),i(\"br\"),t._v(\"Time-Duration: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.duration,expression:\"duration\"}],attrs:{type:\"number\"},domProps:{value:t.duration},on:{input:function(e){e.target.composing||(t.duration=e.target.value)}}}),t._v(\" ms \"),i(\"br\"),i(\"br\"),t._v(\"Step: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.step,expression:\"config.step\"}],attrs:{type:\"number\"},domProps:{value:t.config.step},on:{input:function(e){e.target.composing||t.$set(t.config,\"step\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"ElemWidth: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.elemWidth,expression:\"config.elemWidth\"}],attrs:{type:\"number\"},domProps:{value:t.config.elemWidth},on:{input:function(e){e.target.composing||t.$set(t.config,\"elemWidth\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"ElemMinHeight: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.elemMinHeight,expression:\"config.elemMinHeight\"}],attrs:{type:\"number\"},domProps:{value:t.config.elemMinHeight},on:{input:function(e){e.target.composing||t.$set(t.config,\"elemMinHeight\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"ElemMaxHeight: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.elemMaxHeight,expression:\"config.elemMaxHeight\"}],attrs:{type:\"number\"},domProps:{value:t.config.elemMaxHeight},on:{input:function(e){e.target.composing||t.$set(t.config,\"elemMaxHeight\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"ElemDeltaHeight: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.elemDeltaHeight,expression:\"config.elemDeltaHeight\"}],attrs:{type:\"number\"},domProps:{value:t.config.elemDeltaHeight},on:{input:function(e){e.target.composing||t.$set(t.config,\"elemDeltaHeight\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"Spacing: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.spacing,expression:\"config.spacing\"}],attrs:{type:\"number\"},domProps:{value:t.config.spacing},on:{input:function(e){e.target.composing||t.$set(t.config,\"spacing\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"BgColor: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.bgColor,expression:\"config.bgColor\"}],attrs:{type:\"text\"},domProps:{value:t.config.bgColor},on:{input:function(e){e.target.composing||t.$set(t.config,\"bgColor\",e.target.value)}}}),i(\"br\"),i(\"br\"),t._v(\"ForeColor: \"),i(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.config.foreColor,expression:\"config.foreColor\"}],attrs:{type:\"text\"},domProps:{value:t.config.foreColor},on:{input:function(e){e.target.composing||t.$set(t.config,\"foreColor\",e.target.value)}}}),i(\"br\"),i(\"br\")])},o=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{attrs:{id:\"z-progress-loading\"}},[i(\"canvas\",{attrs:{id:\"z-progress-loading-canvas\",width:t.width,height:t.height}},[i(\"i\",[t._v(\"Not supported.\")])])])},a=[],l={name:\"z-progress-loading\",props:[\"progress\",\"start\",\"config\"],watch:{start(t){t?this.startLoading():this.stopLoading()},config:{deep:!0,handler(){this.init()}}},data(){return{width:0,height:0,elemWidth:4,elemMinWidth:2,elemMaxWidth:8,elemMinHeight:4,elemMaxHeight:24,elemDeltaHeight:3,spacing:5,bgColor:\"blue\",foreColor:\"cyan\",step:1,rects:[],rectCount:0,raf:null}},mounted(){this.init(),setTimeout(()=>{this.draw()},0)},methods:{init(){const t=document.getElementById(\"z-progress-loading\"),{width:e,height:i}=t.getBoundingClientRect();this.width=e-16,this.spacing=Math.floor(.035*this.width),this.height=i,this.elemWidth=Math.floor(.02*this.width),this.elemWidth<this.elemMinWidth&&(this.elemWidth=this.elemMinWidth),this.elemWidth>this.elemMaxWidth&&(this.elemWidth=this.elemMaxWidth),this.elemMinHeight=this.elemWidth,this.elemMaxHeight=Math.floor(.75*this.height),this.elemDeltaHeight=Math.floor((this.elemMaxHeight-this.elemMinHeight)/6);const r=this.config||{};this.elemWidth=Number(r.elemWidth)||this.elemWidth,this.elemMinHeight=Number(r.elemMinHeight)||this.elemMinHeight,this.elemMaxHeight=Number(r.elemMaxHeight)||this.elemMaxHeight,this.elemDeltaHeight=Number(r.elemDeltaHeight)||this.elemDeltaHeight,this.spacing=Number(r.spacing)||this.spacing,this.bgColor=r.bgColor||this.bgColor,this.foreColor=r.foreColor||this.foreColor,this.step=Number(r.step)||this.step,this.rects=[],this.rectCount=Math.floor((this.width+this.spacing)/(this.elemWidth+this.spacing));let s=this.elemMinHeight,o=-this.elemDeltaHeight;for(let n=0;n<this.rectCount;n+=1){const t=n*(this.elemWidth+this.spacing),e=this.height/2-s/2,i=s;s+o<this.elemMaxHeight&&s+o>this.elemMinHeight||(o=-o),s+=o;const r=n/this.rectCount<this.progress/100?this.foreColor:this.bgColor;this.rects.push({x:t,y:e,width:this.elemWidth,height:i,fillStyle:r,dir:o})}},updateRects(){this.rects=this.rects.map((t,e)=>{let{x:i,y:r,width:s,height:o,fillStyle:n,dir:a}=t,l=a>0?this.step:-this.step;return o+l<this.elemMaxHeight&&o+l>this.elemMinHeight||(l=-l),o+=l,r=this.height/2-o/2,n=e/this.rectCount<this.progress/100?this.foreColor:this.bgColor,{x:i,y:r,width:s,height:o,fillStyle:n,dir:l}})},draw(){const t=document.getElementById(\"z-progress-loading-canvas\"),e=t.getContext(\"2d\");e.clearRect(0,0,this.width,this.height),this.rects.forEach(t=>{const{x:i,y:r,width:s,height:o,fillStyle:n}=t;e.fillStyle=n,e.fillRect(i,r,s,o)})},startLoading(){this.updateRects(),this.draw(),this.raf=requestAnimationFrame(this.startLoading.bind(this))},stopLoading(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}}},h=l,c=(i(\"e00d\"),i(\"2877\")),g=Object(c[\"a\"])(h,n,a,!1,null,null,null),u=g.exports,m={name:\"container\",components:{ZProgreeeLoading:u},data(){return{progress:0,start:!1,duration:1e4,currentTime:0,config:{elemWidth:3,elemMinHeight:null,elemMaxHeight:24,elemDeltaHeight:null,spacing:5,step:1,bgColor:\"blue\",foreColor:\"cyan\"},timer:null}},watch:{duration(t){this.duration=Number(t),this.currentTime>Number(t)&&(this.currentTime=0),this.progress=this.currentTime/Number(t)*100}},methods:{startProgress(){if(this.currentTime>this.duration)return this.currentTime=0,this.start=!1,void this.stopProgress();this.progress=this.currentTime/this.duration*100,this.timer=setTimeout(()=>{this.currentTime+=100,this.startProgress()},100)},stopProgress(){this.timer&&(clearTimeout(this.timer),this.timer=null)},handleClick(){this.start=!this.start,this.start?this.startProgress():this.stopProgress()}}},d=m,p=(i(\"e650\"),Object(c[\"a\"])(d,s,o,!1,null,\"46a29cd4\",null)),f=p.exports;r[\"a\"].config.productionTip=!1,new r[\"a\"]({render:t=>t(f)}).$mount(\"#app\")},e00d:function(t,e,i){\"use strict\";var r=i(\"a5b4\"),s=i.n(r);s.a},e650:function(t,e,i){\"use strict\";var r=i(\"01cf\"),s=i.n(r);s.a}});","extractedComments":[]}