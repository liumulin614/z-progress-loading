{"code":"(function(t,e){\"object\"===typeof exports&&\"object\"===typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define([],e):\"object\"===typeof exports?exports[\"z-progress-loading\"]=e():t[\"z-progress-loading\"]=e()})(\"undefined\"!==typeof self?self:this,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=\"fb15\")}({a5b4:function(t,e,i){},e00d:function(t,e,i){\"use strict\";var r=i(\"a5b4\"),n=i.n(r);n.a},f6fd:function(t,e){(function(t){var e=\"currentScript\",i=t.getElementsByTagName(\"script\");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\\(]*\\((.*):.+:.+\\)$/gi.exec(r.stack)||[!1])[1];for(t in i)if(i[t].src==e||\"interactive\"==i[t].readyState)return i[t];return null}}})})(document)},fb15:function(t,e,i){\"use strict\";var r;(i.r(e),\"undefined\"!==typeof window)&&(i(\"f6fd\"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))&&(i.p=r[1]));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{attrs:{id:\"z-progress-loading\"}},[i(\"canvas\",{attrs:{id:\"z-progress-loading-canvas\",width:t.width,height:t.height}},[i(\"i\",[t._v(\"Not supported.\")])])])},s=[],o={name:\"z-progress-loading\",props:[\"progress\",\"start\",\"config\"],watch:{start(t){t?this.startLoading():this.stopLoading()},config:{deep:!0,handler(){this.init()}}},data(){return{width:0,height:0,elemWidth:4,elemMinWidth:2,elemMaxWidth:8,elemMinHeight:4,elemMaxHeight:24,elemDeltaHeight:3,spacing:5,bgColor:\"blue\",foreColor:\"cyan\",step:1,rects:[],rectCount:0,raf:null}},mounted(){this.init(),setTimeout(()=>{this.draw()},0)},methods:{init(){const t=document.getElementById(\"z-progress-loading\"),{width:e,height:i}=t.getBoundingClientRect();this.width=e-16,this.spacing=Math.floor(.035*this.width),this.height=i,this.elemWidth=Math.floor(.02*this.width),this.elemWidth<this.elemMinWidth&&(this.elemWidth=this.elemMinWidth),this.elemWidth>this.elemMaxWidth&&(this.elemWidth=this.elemMaxWidth),this.elemMinHeight=this.elemWidth,this.elemMaxHeight=Math.floor(.75*this.height),this.elemDeltaHeight=Math.floor((this.elemMaxHeight-this.elemMinHeight)/6);const r=this.config||{};this.elemWidth=Number(r.elemWidth)||this.elemWidth,this.elemMinHeight=Number(r.elemMinHeight)||this.elemMinHeight,this.elemMaxHeight=Number(r.elemMaxHeight)||this.elemMaxHeight,this.elemDeltaHeight=Number(r.elemDeltaHeight)||this.elemDeltaHeight,this.spacing=Number(r.spacing)||this.spacing,this.bgColor=r.bgColor||this.bgColor,this.foreColor=r.foreColor||this.foreColor,this.step=Number(r.step)||this.step,this.rects=[],this.rectCount=Math.floor((this.width+this.spacing)/(this.elemWidth+this.spacing));let n=this.elemMinHeight,s=-this.elemDeltaHeight;for(let o=0;o<this.rectCount;o+=1){const t=o*(this.elemWidth+this.spacing),e=this.height/2-n/2,i=n;n+s<this.elemMaxHeight&&n+s>this.elemMinHeight||(s=-s),n+=s;const r=o/this.rectCount<this.progress/100?this.foreColor:this.bgColor;this.rects.push({x:t,y:e,width:this.elemWidth,height:i,fillStyle:r,dir:s})}},updateRects(){this.rects=this.rects.map((t,e)=>{let{x:i,y:r,width:n,height:s,fillStyle:o,dir:h}=t,l=h>0?this.step:-this.step;return s+l<this.elemMaxHeight&&s+l>this.elemMinHeight||(l=-l),s+=l,r=this.height/2-s/2,o=e/this.rectCount<this.progress/100?this.foreColor:this.bgColor,{x:i,y:r,width:n,height:s,fillStyle:o,dir:l}})},draw(){const t=document.getElementById(\"z-progress-loading-canvas\"),e=t.getContext(\"2d\");e.clearRect(0,0,this.width,this.height),this.rects.forEach(t=>{const{x:i,y:r,width:n,height:s,fillStyle:o}=t;e.fillStyle=o,e.fillRect(i,r,n,s)})},startLoading(){this.updateRects(),this.draw(),this.raf=requestAnimationFrame(this.startLoading.bind(this))},stopLoading(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}}},h=o;i(\"e00d\");function l(t,e,i,r,n,s,o,h){var l,a=\"function\"===typeof t?t.options:t;if(e&&(a.render=e,a.staticRenderFns=i,a._compiled=!0),r&&(a.functional=!0),s&&(a._scopeId=\"data-v-\"+s),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},a._ssrRegister=l):n&&(l=h?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(a.functional){a._injectStyles=l;var d=a.render;a.render=function(t,e){return l.call(e),d(t,e)}}else{var c=a.beforeCreate;a.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:a}}var a=l(h,n,s,!1,null,null,null),d=a.exports;e[\"default\"]=d}})[\"default\"]}));","extractedComments":[]}